<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Варіант 31 - Лабораторна робота 6.2 (Рекурсивний спосіб)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #fff; color: #000; padding: 40px 20px; }
        h1 { text-align: center; font-size: 2.5rem; margin-bottom: 10px; }
        .subtitle { text-align: center; font-size: 1.1rem; color: #555; margin-bottom: 40px; }
        .section-title { text-align: center; font-size: 1.8rem; margin: 50px 0 30px; border-bottom: 3px solid #000; padding-bottom: 10px; max-width: 600px; margin-left: auto; margin-right: auto; }
        .formula-box { background: #f9f9f9; border: 2px solid #000; border-radius: 8px; padding: 25px; max-width: 900px; margin: 0 auto 50px; }
        .formula-box h3 { margin-bottom: 15px; font-size: 1.3rem; }
        .formula { font-family: 'Cambria Math', serif; font-size: 1.05rem; line-height: 2; padding-left: 20px; }
        .container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; max-width: 1900px; margin: 0 auto; }
        .diagram-section { background: #fff; border: 2px solid #000; border-radius: 8px; padding: 15px; flex: 1; min-width: 320px; max-width: 400px; }
        .diagram-section h2 { text-align: center; font-size: 1rem; margin-bottom: 12px; border-bottom: 2px solid #000; padding-bottom: 6px; }
        svg { display: block; margin: 0 auto; }
        .terminal, .process, .decision, .io { fill: #fff; stroke: #000; stroke-width: 2; }
        .arrow { stroke: #000; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
        .uml-initial { fill: #000; }
        .uml-final-outer { fill: none; stroke: #000; stroke-width: 2; }
        .uml-final-inner { fill: #000; }
        .uml-action, .uml-call, .uml-decision { fill: #fff; stroke: #000; stroke-width: 2; }
        .uml-call { fill: #f0f0f0; }
        .uml-arrow { stroke: #000; stroke-width: 2; fill: none; marker-end: url(#uml-arrowhead); }
        text { font-family: 'Segoe UI', sans-serif; fill: #000; font-size: 9px; text-anchor: middle; }
        .label { font-size: 8px; font-weight: bold; }
        .struct-box { background: #f0f0f0; border: 2px solid #000; border-radius: 8px; padding: 20px; max-width: 300px; margin: 0 auto 30px; }
        .struct-box h3 { text-align: center; margin-bottom: 15px; }
        .func-item { background: #fff; border: 1px solid #000; padding: 8px 15px; margin: 5px 0; text-align: center; }
        .trace-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .trace-table th, .trace-table td { border: 1px solid #000; padding: 6px 10px; text-align: center; font-size: 0.85rem; }
        .trace-table th { background: #e0e0e0; }
        @media (max-width: 1200px) { .diagram-section { min-width: 100%; max-width: 100%; } }
    </style>
</head>
<body>
    <h1>Лабораторна робота №6.2</h1>
    <p class="subtitle">Варіант 31 — Янісів Максим — РЕКУРСИВНИЙ СПОСІБ</p>
    
    <div class="formula-box">
        <h3>Умова задачі:</h3>
        <div class="formula">
            <b>Масив:</b> b[22] цілих чисел<br>
            <b>Діапазон значень:</b> [-40, 50]<br>
            <b>Критерій:</b> всі, крім додатних кратних 5<br><br>
            <b>Задачі (рекурсивна реалізація):</b><br>
            1. Сформувати масив випадковими числами<br>
            2. Вивести масив на екран<br>
            3. Обчислити кількість та суму елементів за критерієм<br>
            4. Замінити ці елементи нулями<br>
            5. Вивести модифікований масив
        </div>
    </div>
    
    <!-- Структурна схема -->
    <div class="struct-box">
        <h3>Структурна схема програми:</h3>
        <div class="func-item">replaceWithZeros()</div>
        <div class="func-item">sumElements()</div>
        <div class="func-item">countElements()</div>
        <div class="func-item">printArray()</div>
        <div class="func-item">fillArray()</div>
        <div class="func-item" style="border-width: 2px;">main()</div>
    </div>
    
    <!-- БЛОК-СХЕМИ -->
    <h2 class="section-title">Блок-схеми (Рекурсивні)</h2>
    
    <div class="container">
        <!-- fillArray recursive -->
        <div class="diagram-section">
            <h2>fillArray(arr, size, min, max, index)</h2>
            <svg width="320" height="340" viewBox="0 0 320 340">
                <defs><marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#000"/></marker></defs>
                <ellipse class="terminal" cx="160" cy="22" rx="100" ry="14"/>
                <text x="160" y="26">fillArray(arr, size, min, max, idx)</text>
                <path class="arrow" d="M160,36 L160,65"/>
                <polygon class="decision" points="160,70 240,110 160,150 80,110"/>
                <text x="160" y="113">idx ≥ size?</text>
                <path class="arrow" d="M240,110 L280,110 L280,170"/>
                <text class="label" x="255" y="102">Так</text>
                <rect class="process" x="230" y="175" width="80" height="25" rx="3"/>
                <text x="270" y="191">return</text>
                <path class="arrow" d="M80,110 L40,110 L40,165"/>
                <text class="label" x="62" y="102">Ні</text>
                <rect class="process" x="0" y="170" width="150" height="25" rx="3"/>
                <text x="75" y="186" font-size="8">arr[idx] = min + rand()%(...)</text>
                <path class="arrow" d="M75,195 L75,230"/>
                <rect class="process" x="5" y="235" width="145" height="30" rx="3"/>
                <text x="77" y="248" font-size="8">fillArray(arr, size,</text>
                <text x="77" y="260" font-size="8">min, max, idx+1)</text>
                <path class="arrow" d="M77,265 L77,295 L160,295"/>
                <path class="arrow" d="M270,200 L270,295 L170,295"/>
                <path class="arrow" d="M160,295 L160,320"/>
                <ellipse class="terminal" cx="160" cy="332" rx="30" ry="12"/>
                <text x="160" y="336">Кінець</text>
            </svg>
        </div>
        
        <!-- printArray recursive -->
        <div class="diagram-section">
            <h2>printArray(arr, size, index)</h2>
            <svg width="300" height="340" viewBox="0 0 300 340">
                <ellipse class="terminal" cx="150" cy="22" rx="85" ry="14"/>
                <text x="150" y="26">printArray(arr, size, index)</text>
                <path class="arrow" d="M150,36 L150,65"/>
                <polygon class="decision" points="150,70 230,110 150,150 70,110"/>
                <text x="150" y="113">idx ≥ size?</text>
                <path class="arrow" d="M230,110 L265,110 L265,165"/>
                <text class="label" x="243" y="102">Так</text>
                <polygon class="io" points="220,170 295,170 285,195 230,195"/>
                <text x="257" y="186">endl</text>
                <path class="arrow" d="M257,195 L257,280 L160,280"/>
                <path class="arrow" d="M70,110 L30,110 L30,165"/>
                <text class="label" x="52" y="102">Ні</text>
                <polygon class="io" points="0,170 90,170 80,195 10,195"/>
                <text x="45" y="186">arr[idx]</text>
                <path class="arrow" d="M45,195 L45,225"/>
                <rect class="process" x="0" y="230" width="115" height="30" rx="3"/>
                <text x="57" y="243" font-size="8">printArray(arr, size,</text>
                <text x="57" y="255" font-size="8">index + 1)</text>
                <path class="arrow" d="M57,260 L57,280 L150,280"/>
                <path class="arrow" d="M150,280 L150,310"/>
                <ellipse class="terminal" cx="150" cy="325" rx="30" ry="12"/>
                <text x="150" y="329">Кінець</text>
            </svg>
        </div>
        
        <!-- countElements recursive -->
        <div class="diagram-section">
            <h2>countElements(arr, size, index)</h2>
            <svg width="320" height="400" viewBox="0 0 320 400">
                <ellipse class="terminal" cx="160" cy="22" rx="90" ry="14"/>
                <text x="160" y="26">countElements(arr, size, idx)</text>
                <path class="arrow" d="M160,36 L160,65"/>
                <polygon class="decision" points="160,70 240,110 160,150 80,110"/>
                <text x="160" y="113">idx ≥ size?</text>
                <path class="arrow" d="M240,110 L285,110 L285,165"/>
                <text class="label" x="258" y="102">Так</text>
                <rect class="process" x="235" y="170" width="90" height="25" rx="3"/>
                <text x="280" y="186">return 0</text>
                <path class="arrow" d="M80,110 L35,110 L35,155"/>
                <text class="label" x="60" y="102">Ні</text>
                <polygon class="decision" points="100,160 170,195 100,230 30,195"/>
                <text x="100" y="193" font-size="8">matches</text>
                <text x="100" y="203" font-size="8">Criteria?</text>
                <path class="arrow" d="M30,195 L0,195 L0,250"/>
                <text class="label" x="18" y="187">Так</text>
                <rect class="process" x="0" y="255" width="70" height="20" rx="2"/>
                <text x="35" y="268" font-size="7">curr = 1</text>
                <path class="arrow" d="M170,195 L200,195 L200,250"/>
                <text class="label" x="182" y="187">Ні</text>
                <rect class="process" x="170" y="255" width="70" height="20" rx="2"/>
                <text x="205" y="268" font-size="7">curr = 0</text>
                <path class="arrow" d="M35,275 L35,300 L100,300"/>
                <path class="arrow" d="M205,275 L205,300 L110,300"/>
                <path class="arrow" d="M100,300 L100,320"/>
                <rect class="process" x="25" y="325" width="180" height="30" rx="3"/>
                <text x="115" y="338" font-size="8">return curr +</text>
                <text x="115" y="350" font-size="8">countElements(arr, size, idx+1)</text>
                <path class="arrow" d="M115,355 L115,375 L160,375"/>
                <path class="arrow" d="M280,195 L280,375 L170,375"/>
                <ellipse class="terminal" cx="160" cy="390" rx="30" ry="12"/>
                <text x="160" y="394">Кінець</text>
            </svg>
        </div>
        
        <!-- sumElements recursive -->
        <div class="diagram-section">
            <h2>sumElements(arr, size, index)</h2>
            <svg width="320" height="400" viewBox="0 0 320 400">
                <ellipse class="terminal" cx="160" cy="22" rx="90" ry="14"/>
                <text x="160" y="26">sumElements(arr, size, idx)</text>
                <path class="arrow" d="M160,36 L160,65"/>
                <polygon class="decision" points="160,70 240,110 160,150 80,110"/>
                <text x="160" y="113">idx ≥ size?</text>
                <path class="arrow" d="M240,110 L285,110 L285,165"/>
                <text class="label" x="258" y="102">Так</text>
                <rect class="process" x="235" y="170" width="90" height="25" rx="3"/>
                <text x="280" y="186">return 0</text>
                <path class="arrow" d="M80,110 L35,110 L35,155"/>
                <text class="label" x="60" y="102">Ні</text>
                <polygon class="decision" points="100,160 170,195 100,230 30,195"/>
                <text x="100" y="193" font-size="8">matches</text>
                <text x="100" y="203" font-size="8">Criteria?</text>
                <path class="arrow" d="M30,195 L0,195 L0,250"/>
                <text class="label" x="18" y="187">Так</text>
                <rect class="process" x="0" y="255" width="80" height="20" rx="2"/>
                <text x="40" y="268" font-size="7">curr = arr[idx]</text>
                <path class="arrow" d="M170,195 L200,195 L200,250"/>
                <text class="label" x="182" y="187">Ні</text>
                <rect class="process" x="170" y="255" width="70" height="20" rx="2"/>
                <text x="205" y="268" font-size="7">curr = 0</text>
                <path class="arrow" d="M40,275 L40,300 L100,300"/>
                <path class="arrow" d="M205,275 L205,300 L110,300"/>
                <path class="arrow" d="M100,300 L100,320"/>
                <rect class="process" x="25" y="325" width="180" height="30" rx="3"/>
                <text x="115" y="338" font-size="8">return curr +</text>
                <text x="115" y="350" font-size="8">sumElements(arr, size, idx+1)</text>
                <path class="arrow" d="M115,355 L115,375 L160,375"/>
                <path class="arrow" d="M280,195 L280,375 L170,375"/>
                <ellipse class="terminal" cx="160" cy="390" rx="30" ry="12"/>
                <text x="160" y="394">Кінець</text>
            </svg>
        </div>
        
        <!-- replaceWithZeros recursive -->
        <div class="diagram-section">
            <h2>replaceWithZeros(arr, size, index)</h2>
            <svg width="320" height="380" viewBox="0 0 320 380">
                <ellipse class="terminal" cx="160" cy="22" rx="95" ry="14"/>
                <text x="160" y="26">replaceWithZeros(arr, size, idx)</text>
                <path class="arrow" d="M160,36 L160,65"/>
                <polygon class="decision" points="160,70 240,110 160,150 80,110"/>
                <text x="160" y="113">idx ≥ size?</text>
                <path class="arrow" d="M240,110 L285,110 L285,165"/>
                <text class="label" x="258" y="102">Так</text>
                <rect class="process" x="235" y="170" width="90" height="25" rx="3"/>
                <text x="280" y="186">return</text>
                <path class="arrow" d="M80,110 L35,110 L35,155"/>
                <text class="label" x="60" y="102">Ні</text>
                <polygon class="decision" points="100,160 170,195 100,230 30,195"/>
                <text x="100" y="193" font-size="8">matches</text>
                <text x="100" y="203" font-size="8">Criteria?</text>
                <path class="arrow" d="M30,195 L0,195 L0,250"/>
                <text class="label" x="18" y="187">Так</text>
                <rect class="process" x="0" y="255" width="70" height="20" rx="2"/>
                <text x="35" y="268" font-size="7">arr[idx] = 0</text>
                <path class="arrow" d="M100,230 L100,290"/>
                <path class="arrow" d="M35,275 L35,290 L100,290"/>
                <path class="arrow" d="M100,290 L100,310"/>
                <rect class="process" x="20" y="315" width="175" height="25" rx="3"/>
                <text x="107" y="331" font-size="8">replaceWithZeros(arr, size, idx+1)</text>
                <path class="arrow" d="M107,340 L107,360 L160,360"/>
                <path class="arrow" d="M280,195 L280,360 L170,360"/>
                <ellipse class="terminal" cx="160" cy="372" rx="30" ry="12"/>
                <text x="160" y="376">Кінець</text>
            </svg>
        </div>
    </div>
    
    <!-- UML Activity diagrams -->
    <h2 class="section-title">UML Activity діаграми</h2>
    
    <div class="container">
        <!-- UML countElements -->
        <div class="diagram-section">
            <h2>countElements (UML)</h2>
            <svg width="300" height="340" viewBox="0 0 300 340">
                <defs><marker id="uml-arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#000"/></marker></defs>
                <circle class="uml-initial" cx="150" cy="18" r="7"/>
                <text x="150" y="38" font-size="7">[arr, size, idx]</text>
                <path class="uml-arrow" d="M150,40 L150,60"/>
                <polygon class="uml-decision" points="150,65 220,100 150,135 80,100"/>
                <text x="150" y="103" font-size="8">[idx ≥ size]</text>
                <path class="uml-arrow" d="M220,100 L260,100 L260,155"/>
                <rect class="uml-action" x="215" y="160" width="80" height="22" rx="8"/>
                <text x="255" y="174">return 0</text>
                <path class="uml-arrow" d="M80,100 L40,100 L40,155"/>
                <polygon class="uml-decision" points="70,160 130,190 70,220 10,190"/>
                <text x="70" y="193" font-size="7">matches?</text>
                <path class="uml-arrow" d="M10,190 L-15,190 L-15,235"/>
                <rect class="uml-action" x="-35" y="240" width="60" height="20" rx="6"/>
                <text x="-5" y="253" font-size="7">curr := 1</text>
                <path class="uml-arrow" d="M130,190 L155,190 L155,235"/>
                <rect class="uml-action" x="130" y="240" width="60" height="20" rx="6"/>
                <text x="160" y="253" font-size="7">curr := 0</text>
                <rect x="30" y="280" width="180" height="4" rx="2" fill="#000"/>
                <path class="uml-arrow" d="M-5,260 L-5,275"/>
                <path class="uml-arrow" d="M160,260 L160,275"/>
                <path class="uml-arrow" d="M120,284 L120,300"/>
                <rect class="uml-call" x="25" y="305" width="190" height="22" rx="8"/>
                <text x="120" y="319" font-size="7">return curr + countElements(idx+1)</text>
            </svg>
        </div>
        
        <!-- UML sumElements -->
        <div class="diagram-section">
            <h2>sumElements (UML)</h2>
            <svg width="300" height="340" viewBox="0 0 300 340">
                <circle class="uml-initial" cx="150" cy="18" r="7"/>
                <text x="150" y="38" font-size="7">[arr, size, idx]</text>
                <path class="uml-arrow" d="M150,40 L150,60"/>
                <polygon class="uml-decision" points="150,65 220,100 150,135 80,100"/>
                <text x="150" y="103" font-size="8">[idx ≥ size]</text>
                <path class="uml-arrow" d="M220,100 L260,100 L260,155"/>
                <rect class="uml-action" x="215" y="160" width="80" height="22" rx="8"/>
                <text x="255" y="174">return 0</text>
                <path class="uml-arrow" d="M80,100 L40,100 L40,155"/>
                <polygon class="uml-decision" points="70,160 130,190 70,220 10,190"/>
                <text x="70" y="193" font-size="7">matches?</text>
                <path class="uml-arrow" d="M10,190 L-15,190 L-15,235"/>
                <rect class="uml-action" x="-50" y="240" width="80" height="20" rx="6"/>
                <text x="-10" y="253" font-size="6">curr := arr[idx]</text>
                <path class="uml-arrow" d="M130,190 L155,190 L155,235"/>
                <rect class="uml-action" x="130" y="240" width="60" height="20" rx="6"/>
                <text x="160" y="253" font-size="7">curr := 0</text>
                <rect x="30" y="280" width="180" height="4" rx="2" fill="#000"/>
                <path class="uml-arrow" d="M-10,260 L-10,275"/>
                <path class="uml-arrow" d="M160,260 L160,275"/>
                <path class="uml-arrow" d="M120,284 L120,300"/>
                <rect class="uml-call" x="25" y="305" width="190" height="22" rx="8"/>
                <text x="120" y="319" font-size="7">return curr + sumElements(idx+1)</text>
            </svg>
        </div>
        
        <!-- UML replaceWithZeros -->
        <div class="diagram-section">
            <h2>replaceWithZeros (UML)</h2>
            <svg width="300" height="320" viewBox="0 0 300 320">
                <circle class="uml-initial" cx="150" cy="18" r="7"/>
                <text x="150" y="38" font-size="7">[arr, size, idx]</text>
                <path class="uml-arrow" d="M150,40 L150,60"/>
                <polygon class="uml-decision" points="150,65 220,100 150,135 80,100"/>
                <text x="150" y="103" font-size="8">[idx ≥ size]</text>
                <path class="uml-arrow" d="M220,100 L260,100 L260,255"/>
                <path class="uml-arrow" d="M80,100 L40,100 L40,145"/>
                <polygon class="uml-decision" points="70,150 130,180 70,210 10,180"/>
                <text x="70" y="183" font-size="7">matches?</text>
                <path class="uml-arrow" d="M10,180 L-15,180 L-15,225"/>
                <rect class="uml-action" x="-45" y="230" width="70" height="20" rx="6"/>
                <text x="-10" y="243" font-size="7">arr[idx] := 0</text>
                <path class="uml-arrow" d="M70,210 L70,250"/>
                <path class="uml-arrow" d="M-10,250 L-10,260 L70,260"/>
                <rect class="uml-call" x="10" y="265" width="175" height="22" rx="8"/>
                <text x="97" y="279" font-size="7">replaceWithZeros(arr, size, idx+1)</text>
                <rect x="95" y="300" width="110" height="4" rx="2" fill="#000"/>
                <path class="uml-arrow" d="M97,287 L97,295"/>
                <path class="uml-arrow" d="M260,255 L260,302 L205,302"/>
                <circle class="uml-final-outer" cx="150" cy="310" r="6"/>
                <circle class="uml-final-inner" cx="150" cy="310" r="3"/>
            </svg>
        </div>
    </div>
    
    <!-- Трасування рекурсії -->
    <h2 class="section-title">Трасування рекурсії</h2>
    
    <div class="formula-box">
        <h3>Приклад: countElements([1, 5, 2, 10, 3], 5)</h3>
        <div class="formula" style="font-family: monospace; font-size: 0.9rem;">
            <table class="trace-table">
                <tr><th>Виклик</th><th>idx</th><th>arr[idx]</th><th>matches?</th><th>curr</th><th>Результат</th></tr>
                <tr><td>1</td><td>0</td><td>1</td><td>true</td><td>1</td><td>1 + count(..., 1)</td></tr>
                <tr><td>2</td><td>1</td><td>5</td><td>false</td><td>0</td><td>0 + count(..., 2)</td></tr>
                <tr><td>3</td><td>2</td><td>2</td><td>true</td><td>1</td><td>1 + count(..., 3)</td></tr>
                <tr><td>4</td><td>3</td><td>10</td><td>false</td><td>0</td><td>0 + count(..., 4)</td></tr>
                <tr><td>5</td><td>4</td><td>3</td><td>true</td><td>1</td><td>1 + count(..., 5)</td></tr>
                <tr><td>6</td><td>5</td><td>—</td><td>—</td><td>—</td><td>return 0</td></tr>
                <tr><td colspan="6" style="background:#f0f0f0;"><b>Підйом:</b> 0 → 1 → 1 → 2 → 2 → <b>3</b></td></tr>
            </table>
            <br>
            <b>Результат:</b> count = 3 (елементи 1, 2, 3 — не є додатними кратними 5)
        </div>
    </div>
    
    <div class="formula-box">
        <h3>Приклад: sumElements([1, 5, 2, 10, 3], 5)</h3>
        <div class="formula" style="font-family: monospace; font-size: 0.9rem;">
            <table class="trace-table">
                <tr><th>Виклик</th><th>idx</th><th>arr[idx]</th><th>matches?</th><th>curr</th><th>Результат</th></tr>
                <tr><td>1</td><td>0</td><td>1</td><td>true</td><td>1</td><td>1 + sum(..., 1)</td></tr>
                <tr><td>2</td><td>1</td><td>5</td><td>false</td><td>0</td><td>0 + sum(..., 2)</td></tr>
                <tr><td>3</td><td>2</td><td>2</td><td>true</td><td>2</td><td>2 + sum(..., 3)</td></tr>
                <tr><td>4</td><td>3</td><td>10</td><td>false</td><td>0</td><td>0 + sum(..., 4)</td></tr>
                <tr><td>5</td><td>4</td><td>3</td><td>true</td><td>3</td><td>3 + sum(..., 5)</td></tr>
                <tr><td>6</td><td>5</td><td>—</td><td>—</td><td>—</td><td>return 0</td></tr>
                <tr><td colspan="6" style="background:#f0f0f0;"><b>Підйом:</b> 0 → 3 → 3 → 5 → 5 → <b>6</b></td></tr>
            </table>
            <br>
            <b>Результат:</b> sum = 1 + 2 + 3 = 6
        </div>
    </div>
    
    <!-- Results -->
    <div class="formula-box" style="margin-top: 50px;">
        <h3>Приклад результату:</h3>
        <div class="formula" style="font-family: monospace; font-size: 0.9rem;">
            <b>Original array:</b><br>
            -29 -33   9  -9 -33 -10  39   5  36 -35   2  39  13  -5  43  21 -36   6 -13 -16 -37 -31<br><br>
            <b>Elements matching criteria (not positive multiples of 5):</b><br>
            Count: 21, Sum: -79<br><br>
            <b>Modified array:</b><br>
            0   0   0   0   0   0   0   5   0   0   0   0   0   0   0   0   0   0   0   0   0   0<br><br>
            ✅ Рекурсивна версія дає той самий результат, що й ітераційна!
        </div>
    </div>
</body>
</html>

